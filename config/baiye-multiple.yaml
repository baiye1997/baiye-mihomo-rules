# ===================== åŸºç¡€è¿è¡Œå‚æ•° =====================
mixed-port: 7897
allow-lan: true
bind-address: '*'
mode: rule
log-level: warning
unified-delay: true
tcp-concurrent: true
find-process-mode: strict
global-client-fingerprint: chrome

# UI æ§åˆ¶é¢æ¿
external-controller: 127.0.0.1:9090
# external-ui: ui
# secret: "yourpassword"

# è¿æ¥ä¿æ´»
keep-alive-idle: 600
keep-alive-interval: 60

# å…è®¤è¯ç½‘æ®µ
skip-auth-prefixes:
  - 127.0.0.0/8
  - 10.0.0.0/8
  - 172.16.0.0/12
  - 192.168.0.0/16
  - 100.64.0.0/10
  - ::1/128
  - fc00::/7
  - fe80::/10

profile:
  store-selected: true
  store-fake-ip: true

## DNS é…ç½®
dns:
  enable: true
  prefer-h3: true
  listen: 0.0.0.0:1053
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  use-hosts: true

  # å›½é™… DNSï¼ˆåŠ å¯†ï¼Œé˜²æ±¡æŸ“ï¼‰
  nameserver:
    - "tls://1.1.1.1"
    - "tls://8.8.8.8"
    - "tls://[2606:4700:4700::1111]"
    - "tls://[2001:4860:4860::8888]"

  # å›½å†… DNSï¼ˆå¿«é€Ÿç¨³å®šï¼‰
  default-nameserver:
    - "223.5.5.5"
    - "119.29.29.29"
    - "180.184.1.1"
    - "[2400:3200::1]"
    - "[2402:4e00::]"

  # å›½å†…/å›½å¤–åˆ†æµè§£æ
  nameserver-policy:
    'geosite:cn':
      - "223.5.5.5"
      - "119.29.29.29"
      - "180.184.1.1"
      - "[2400:3200::1]"
      - "[2402:4e00::]"
    'geosite:geolocation-!cn':
      - "tls://1.1.1.1"
      - "tls://8.8.8.8"
      - "tls://[2606:4700:4700::1111]"
      - "tls://[2001:4860:4860::8888]"

  # èŠ‚ç‚¹åŸŸåè§£æï¼ˆå»ºè®®ä»…å¢ƒå¤–åŠ å¯†ï¼‰
  proxy-server-nameserver:
    - "system"
    - "223.5.5.5"
    - "119.29.29.29"
    - "[2400:3200::1]"
    - "[2402:4e00::]"

  # fake-ip è¿‡æ»¤ï¼ˆç¡®ä¿åœ¨ dns å†…éƒ¨ï¼‰
  fake-ip-filter:
    - geosite:private
    - geosite:connectivity-check
    - geosite:cn
    - '*.lan'
    - '*.local'
    - '*.localdomain'
    - '*.home.arpa'
    - '*.localhost'
    - '*.msftncsi.com'
    - '*.msftconnecttest.com'
    - 'time.*'
    - 'ntp.*'
    - 'pool.ntp.org'
    - '*.ntp.org.cn'
    - 'stun.*'
    - 'stun.*.*'
    - 'stun.*.*.*'
    - 'Mijia Cloud'
    - 'dig.io.mi.com'
    - 'localhost.ptlogin2.qq.com'

# Sniffer åŸŸåå—…æ¢
sniffer:
  enable: true
  sniff:
    HTTP: {ports: [80, 8080-8880], override-destination: true}
    TLS:  {ports: [443, 8443]}
    QUIC: {ports: [443, 8443]}
  skip-domain:
    # Apple Push
    - "courier.push.apple.com"
    - "api.push.apple.com"
    - "+.push.apple.com"
    # Microsoft Push (WNS)
    - "wns.windows.com"
    - "*.wns.windows.com"
    - "*.notify.windows.com"
    - "+.push.microsoft.com"
    # Google FCM
    - "mtalk.google.com"
    - "fcm.googleapis.com"
    - "+.push.google.com"
    # Xiaomi / Mijia
    - "Mijia Cloud"
    - "miot-spec.org"
    - "api.io.mi.com"
    - "push.xiaomi.com"
    # å…¶ä»–å¸¸è§å‚å•†
    - "push.hicloud.com"
    - "push.oppomobile.com"

# TUN æ¨¡å¼
tun:
  enable: true
  stack: mixed
  device: Ethernet99
  auto-route: true
  auto-detect-interface: true
  dns-hijack:
    - any:53
    - tcp://any:53
  strict-route: true
  mtu: 1500

# Geodataé…ç½®
geodata-mode: true
geodata-loader: standard
geo-auto-update: true
geo-update-interval: 24

geox-url:
  geoip: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geoip.dat"
  geosite: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geosite.dat"
  mmdb: "https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/Country.mmdb"
  asn: "https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/GeoLite2-ASN.mmdb"

# è®¢é˜…åŸºç¡€é…ç½® [æ¯å¤©æ›´æ–°ä¸€æ¬¡è®¢é˜…èŠ‚ç‚¹ï¼Œæ¯ 300 ç§’ä¸€æ¬¡å¥åº·æ£€æŸ¥]
NodeParam: &NodeParam {type: http, interval: 86400, health-check: {enable: true, url: 'http://connectivitycheck.platform.hicloud.com/generate_204', interval: 300}}
    
proxy-providers:
  Node-1:
    url: æ›¿æ¢è®¢é˜…é“¾æ¥1
    <<: *NodeParam
    path: './proxy_provider/providers-1.yaml'
    override:
      additional-prefix: "[Haita] "
  Node-2:
    url: æ›¿æ¢è®¢é˜…é“¾æ¥2
    <<: *NodeParam
    path: './proxy_provider/providers-2.yaml'
    override:
      additional-prefix: "[BoostNet] "
      
# ===================== èŠ‚ç‚¹ç­›é€‰ =====================
# æŒ‰åœ°åŒºç­›é€‰
FilterHK: &FilterHK '^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|\b(HK|Hong)(\d+)?\b))(?!.*((?i)å›å›½|æ ¡å›­|ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterTW: &FilterTW '^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|\b(TW|Tai|Taiwan)(\d+)?\b))(?!.*((?i)å›å›½|æ ¡å›­|ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterJP: &FilterJP '^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|\b(JP|Japan)(\d+)?\b))(?!.*((?i)å›å›½|æ ¡å›­|ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterKR: &FilterKR '^(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©å›½|éŸ“|é¦–å°”|\b(KR|Korea)(\d+)?\b))(?!.*((?i)å›å›½|æ ¡å›­|ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterSG: &FilterSG '^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|\b(SG|Singapore)(\d+)?\b))(?!.*((?i)å›å›½|æ ¡å›­|ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterUS: &FilterUS '^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|\b(US|United States)(\d+)?\b))(?!.*((?i)å›å›½|æ ¡å›­|ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterUK: &FilterUK '^(?=.*((?i)ğŸ‡¬ğŸ‡§|è‹±å›½|ä¼¦æ•¦|\b(UK|United Kingdom)(\d+)?\b))(?!.*((?i)å›å›½|æ ¡å›­|ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterFR: &FilterFR '^(?=.*((?i)ğŸ‡«ğŸ‡·|æ³•å›½|\b(FR|France)(\d+)?\b))(?!.*((?i)å›å›½|æ ¡å›­|ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterDE: &FilterDE '^(?=.*((?i)ğŸ‡©ğŸ‡ª|å¾·å›½|\b(DE|Germany)(\d+)?\b))(?!.*((?i)å›å›½|æ ¡å›­|ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterAll: &FilterAll '^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|(\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel|Channel|Author)\b|(\d{4}-\d{2}-\d{2}|\d+G)))).*$'

# ===================== ç­–ç•¥ç»„åŸºç¡€é…ç½® =====================
# é¡¶å±‚ URL
TestURL: &TestURL "http://connectivitycheck.platform.hicloud.com/generate_204"

# åŸºæ¨¡æ¿
TmplBase: &TmplBase {url: *TestURL, interval: 300, lazy: true, timeout: 2000, disable-udp: false, max-failed-times: 3, hidden: true, include-all: true}

Select:      &Select      {type: select,     url: *TestURL, disable-udp: false, hidden: false, include-all: true}
UrlTest:     &UrlTest     {type: url-test,   <<: *TmplBase, tolerance: 50}
FallBack:    &FallBack    {type: fallback,   <<: *TmplBase}
LoadBalance: &LoadBalance {type: load-balance, <<: *TmplBase, strategy: consistent-hashing}

# å„åœºæ™¯å¸¸ç”¨é€‰æ‹©æ¸…å•ï¼ˆå•è¡Œåºåˆ—ï¼‰
AppRegionWithDirect: &AppRegionWithDirect ["DIRECT","ğŸ¯  èŠ‚ç‚¹é€‰æ‹©","ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹","ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹","ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹","ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹","ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹","ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹","ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹","ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹","ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹"]
FallbackWithDirect: &FallbackWithDirect ["DIRECT","ğŸ¯  èŠ‚ç‚¹é€‰æ‹©","ğŸ‡­ğŸ‡° - è‡ªåŠ¨å›é€€","ğŸ‡¯ğŸ‡µ - è‡ªåŠ¨å›é€€","ğŸ‡°ğŸ‡· - è‡ªåŠ¨å›é€€","ğŸ‡¸ğŸ‡¬ - è‡ªåŠ¨å›é€€","ğŸ‡ºğŸ‡¸ - è‡ªåŠ¨å›é€€","ğŸ‡¬ğŸ‡§ - è‡ªåŠ¨å›é€€","ğŸ‡«ğŸ‡· - è‡ªåŠ¨å›é€€","ğŸ‡©ğŸ‡ª - è‡ªåŠ¨å›é€€","ğŸ‡¹ğŸ‡¼ - è‡ªåŠ¨å›é€€"]
AutoRegionChoices: &AutoRegionChoices ["ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹","ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹","ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹","ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹","ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹"]

# ===================== ç­–ç•¥ç»„ =====================
proxy-groups:
  # ä¸»é€‰æ‹©ç»„
  - name: ğŸ¯  èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - ğŸ›«  æ™ºèƒ½é€‰æ‹©
      - ğŸ¤  æ‰‹åŠ¨é€‰æ‹©
      - DIRECT

  # æ‰‹åŠ¨ / Auto é¡¶å±‚
  - name: ğŸ¤  æ‰‹åŠ¨é€‰æ‹©
    <<: *Select
    filter: *FilterAll

  - name: ğŸ›«  æ™ºèƒ½é€‰æ‹©
    type: url-test
    proxies: *AutoRegionChoices
    url: http://connectivitycheck.platform.hicloud.com/generate_204
    interval: 300
    tolerance: 50

  # åº”ç”¨åˆ†ç»„
  - name: ğŸ’¡   A I æœåŠ¡
    type: select
    proxies: *AppRegionWithDirect

  - name: ğŸ  è‹¹æœæœåŠ¡
    type: select
    proxies: *AppRegionWithDirect

  - name: â“‚ï¸  å¾®è½¯æœåŠ¡
    type: select
    proxies: *AppRegionWithDirect

  - name: ğŸ®  æ¸¸æˆæœåŠ¡
    type: select
    proxies: *AppRegionWithDirect

  - name: âœˆï¸  ç”µæŠ¥ä¿¡æ¯
    type: select
    proxies: *AppRegionWithDirect

  - name: ğŸ“º  è§†é¢‘è§„åˆ™
    type: select
    proxies: *FallbackWithDirect

  # Auto é¡¶å±‚ï¼ˆå„åœ°åŒºè‡ªåŠ¨èšåˆï¼‰
  - name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
    type: select
    proxies: [ğŸ‡­ğŸ‡° - å»¶è¿Ÿæœ€ä½, ğŸ‡­ğŸ‡° - è‡ªåŠ¨å›é€€, ğŸ‡­ğŸ‡° - è´Ÿè½½å‡è¡¡]

  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    type: select
    proxies: [ğŸ‡¯ğŸ‡µ - å»¶è¿Ÿæœ€ä½, ğŸ‡¯ğŸ‡µ - è‡ªåŠ¨å›é€€, ğŸ‡¯ğŸ‡µ - è´Ÿè½½å‡è¡¡]

  - name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
    type: select
    proxies: [ğŸ‡°ğŸ‡· - å»¶è¿Ÿæœ€ä½, ğŸ‡°ğŸ‡· - è‡ªåŠ¨å›é€€, ğŸ‡°ğŸ‡· - è´Ÿè½½å‡è¡¡]

  - name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹
    type: select
    proxies: [ğŸ‡¸ğŸ‡¬ - å»¶è¿Ÿæœ€ä½, ğŸ‡¸ğŸ‡¬ - è‡ªåŠ¨å›é€€, ğŸ‡¸ğŸ‡¬ - è´Ÿè½½å‡è¡¡]

  - name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹
    type: select
    proxies: [ğŸ‡ºğŸ‡¸ - å»¶è¿Ÿæœ€ä½, ğŸ‡ºğŸ‡¸ - è‡ªåŠ¨å›é€€, ğŸ‡ºğŸ‡¸ - è´Ÿè½½å‡è¡¡]

  - name: ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
    type: select
    proxies: [ğŸ‡¬ğŸ‡§ - å»¶è¿Ÿæœ€ä½, ğŸ‡¬ğŸ‡§ - è‡ªåŠ¨å›é€€, ğŸ‡¬ğŸ‡§ - è´Ÿè½½å‡è¡¡]

  - name: ğŸ‡«ğŸ‡· æ³•å›½èŠ‚ç‚¹
    type: select
    proxies: [ğŸ‡«ğŸ‡· - å»¶è¿Ÿæœ€ä½, ğŸ‡«ğŸ‡· - è‡ªåŠ¨å›é€€, ğŸ‡«ğŸ‡· - è´Ÿè½½å‡è¡¡]

  - name: ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹
    type: select
    proxies: [ğŸ‡©ğŸ‡ª - å»¶è¿Ÿæœ€ä½, ğŸ‡©ğŸ‡ª - è‡ªåŠ¨å›é€€, ğŸ‡©ğŸ‡ª - è´Ÿè½½å‡è¡¡]

  - name: ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹
    type: select
    proxies: [ğŸ‡¹ğŸ‡¼ - å»¶è¿Ÿæœ€ä½, ğŸ‡¹ğŸ‡¼ - è‡ªåŠ¨å›é€€, ğŸ‡¹ğŸ‡¼ - è´Ÿè½½å‡è¡¡]

  # å»¶è¿Ÿæœ€ä½ - æŒ‰åœ°åŒº
  - {name: ğŸ‡­ğŸ‡° - å»¶è¿Ÿæœ€ä½, <<: *UrlTest, filter: *FilterHK}
  - {name: ğŸ‡¯ğŸ‡µ - å»¶è¿Ÿæœ€ä½, <<: *UrlTest, filter: *FilterJP}
  - {name: ğŸ‡°ğŸ‡· - å»¶è¿Ÿæœ€ä½, <<: *UrlTest, filter: *FilterKR}
  - {name: ğŸ‡¸ğŸ‡¬ - å»¶è¿Ÿæœ€ä½, <<: *UrlTest, filter: *FilterSG}
  - {name: ğŸ‡ºğŸ‡¸ - å»¶è¿Ÿæœ€ä½, <<: *UrlTest, filter: *FilterUS}
  - {name: ğŸ‡¬ğŸ‡§ - å»¶è¿Ÿæœ€ä½, <<: *UrlTest, filter: *FilterUK}
  - {name: ğŸ‡«ğŸ‡· - å»¶è¿Ÿæœ€ä½, <<: *UrlTest, filter: *FilterFR}
  - {name: ğŸ‡©ğŸ‡ª - å»¶è¿Ÿæœ€ä½, <<: *UrlTest, filter: *FilterDE}
  - {name: ğŸ‡¹ğŸ‡¼ - å»¶è¿Ÿæœ€ä½, <<: *UrlTest, filter: *FilterTW}
  # è‡ªåŠ¨å›é€€ - æŒ‰åœ°åŒº
  - {name: ğŸ‡­ğŸ‡° - è‡ªåŠ¨å›é€€, <<: *FallBack, filter: *FilterHK}
  - {name: ğŸ‡¯ğŸ‡µ - è‡ªåŠ¨å›é€€, <<: *FallBack, filter: *FilterJP}
  - {name: ğŸ‡°ğŸ‡· - è‡ªåŠ¨å›é€€, <<: *FallBack, filter: *FilterKR}
  - {name: ğŸ‡¸ğŸ‡¬ - è‡ªåŠ¨å›é€€, <<: *FallBack, filter: *FilterSG}
  - {name: ğŸ‡ºğŸ‡¸ - è‡ªåŠ¨å›é€€, <<: *FallBack, filter: *FilterUS}
  - {name: ğŸ‡¬ğŸ‡§ - è‡ªåŠ¨å›é€€, <<: *FallBack, filter: *FilterUK}
  - {name: ğŸ‡«ğŸ‡· - è‡ªåŠ¨å›é€€, <<: *FallBack, filter: *FilterFR}
  - {name: ğŸ‡©ğŸ‡ª - è‡ªåŠ¨å›é€€, <<: *FallBack, filter: *FilterDE}
  - {name: ğŸ‡¹ğŸ‡¼ - è‡ªåŠ¨å›é€€, <<: *FallBack, filter: *FilterTW}
  # è´Ÿè½½å‡è¡¡ - æŒ‰åœ°åŒº
  - {name: ğŸ‡­ğŸ‡° - è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterHK}
  - {name: ğŸ‡¯ğŸ‡µ - è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterJP}
  - {name: ğŸ‡°ğŸ‡· - è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterKR}
  - {name: ğŸ‡¸ğŸ‡¬ - è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterSG}
  - {name: ğŸ‡ºğŸ‡¸ - è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterUS}
  - {name: ğŸ‡¬ğŸ‡§ - è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterUK}
  - {name: ğŸ‡«ğŸ‡· - è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterFR}
  - {name: ğŸ‡©ğŸ‡ª - è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterDE}
  - {name: ğŸ‡¹ğŸ‡¼ - è´Ÿè½½å‡è¡¡, <<: *LoadBalance, filter: *FilterTW}
  
# è§„åˆ™é›†é”šç‚¹ï¼ˆç»Ÿä¸€å‚æ•°ï¼‰
RS_cls: &RS_cls {type: http, behavior: classical, interval: 43200, format: text, proxy: ğŸ¯  èŠ‚ç‚¹é€‰æ‹©}
RS_dom: &RS_dom {type: http, behavior: domain,    interval: 43200, format: text, proxy: ğŸ¯  èŠ‚ç‚¹é€‰æ‹©}
#è§„åˆ™é›†
rule-providers:
  FuckAD:                {<<: *RS_dom, format: yaml, url: https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Clash.yaml, path: ./baiyerules/AWAvenue-Ads-Rule-Clash.yaml}
  cdn_domainset:         {<<: *RS_dom, url: https://ruleset.skk.moe/Clash/domainset/cdn.txt,            path: ./baiyerules/cdn_domainset.txt}
  cdn_non_ip:            {<<: *RS_cls, url: https://ruleset.skk.moe/Clash/non_ip/cdn.txt,               path: ./baiyerules/cdn_non_ip.txt}
  Game:                  {<<: *RS_cls, format: yaml, url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.yaml, path: ./baiyerules/Game.yaml}
  stream_non_ip:         {<<: *RS_cls, url: https://ruleset.skk.moe/Clash/non_ip/stream.txt,            path: ./baiyerules/stream_non_ip.txt}
  stream_ip:             {<<: *RS_cls, url: https://ruleset.skk.moe/Clash/ip/stream.txt,                path: ./baiyerules/stream_ip.txt}
  ai_non_ip:             {<<: *RS_cls, url: https://ruleset.skk.moe/Clash/non_ip/ai.txt,                path: ./baiyerules/ai_non_ip.txt}
  telegram_ip:           {<<: *RS_cls, url: https://ruleset.skk.moe/Clash/ip/telegram.txt,              path: ./baiyerules/telegram_ip.txt}
  apple_cdn:             {<<: *RS_dom, url: https://ruleset.skk.moe/Clash/domainset/apple_cdn.txt,      path: ./baiyerules/apple_cdn.txt}
  apple_services:        {<<: *RS_cls, url: https://ruleset.skk.moe/Clash/non_ip/apple_services.txt,    path: ./baiyerules/apple_services.txt}
  apple_cn_non_ip:       {<<: *RS_cls, url: https://ruleset.skk.moe/Clash/non_ip/apple_cn.txt,          path: ./baiyerules/apple_cn_non_ip.txt}
  microsoft_cdn_non_ip:  {<<: *RS_cls, url: https://ruleset.skk.moe/Clash/non_ip/microsoft_cdn.txt,     path: ./baiyerules/microsoft_cdn_non_ip.txt}
  microsoft_non_ip:      {<<: *RS_cls, url: https://ruleset.skk.moe/Clash/non_ip/microsoft.txt,         path: ./baiyerules/microsoft_non_ip.txt}
  download_domainset:    {<<: *RS_dom, url: https://ruleset.skk.moe/Clash/domainset/download.txt,       path: ./baiyerules/download_domainset.txt}
  download_non_ip:       {<<: *RS_cls, url: https://ruleset.skk.moe/Clash/non_ip/download.txt,          path: ./baiyerules/download_non_ip.txt}

# åˆ†æµè§„åˆ™
rules:
  ## é IP ç±»è§„åˆ™
  # å±€åŸŸç½‘
  - GEOSITE,PRIVATE,DIRECT
  # å¹¿å‘Šè§„åˆ™
  - RULE-SET,FuckAD,REJECT
  # å‰”é™¤bing
  - DOMAIN-SUFFIX,bing.com,DIRECT
  # é€šç”¨CDN
  - DOMAIN-SUFFIX,oaiusercontent.com,ğŸ’¡   A I æœåŠ¡
  - DOMAIN-SUFFIX,oaistatic.com,ğŸ’¡   A I æœåŠ¡
  - RULE-SET,cdn_domainset,ğŸ¯  èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,cdn_non_ip,ğŸ¯  èŠ‚ç‚¹é€‰æ‹©
  # è§†é¢‘è§„åˆ™
  - RULE-SET,stream_non_ip,ğŸ“º  è§†é¢‘è§„åˆ™
  # AIè§„åˆ™
  - DOMAIN-SUFFIX,openai.com,ğŸ’¡   A I æœåŠ¡
  - DOMAIN-SUFFIX,claude.ai,ğŸ’¡   A I æœåŠ¡
  - DOMAIN-SUFFIX,gemini.google.com,ğŸ’¡   A I æœåŠ¡
  - DOMAIN-SUFFIX,perplexity.ai,ğŸ’¡   A I æœåŠ¡
  - DOMAIN-SUFFIX,bingapis.com,ğŸ’¡   A I æœåŠ¡
  - DOMAIN-SUFFIX,copilot.microsoft.com,ğŸ’¡   A I æœåŠ¡
  - RULE-SET,ai_non_ip,ğŸ’¡   A I æœåŠ¡
  # æ¸¸æˆè§„åˆ™
  - GEOSITE,category-games@cn,DIRECT
  - RULE-SET,Game,ğŸ®  æ¸¸æˆæœåŠ¡
  # è°·æ­Œè§„åˆ™
  - GEOSITE,google-cn,DIRECT
  # è‹¹æœè§„åˆ™
  - RULE-SET,apple_cdn,DIRECT
  - RULE-SET,apple_cn_non_ip,DIRECT
  - RULE-SET,apple_services,ğŸ  è‹¹æœæœåŠ¡
  # å¾®è½¯è§„åˆ™
  - RULE-SET,microsoft_cdn_non_ip,DIRECT
  - RULE-SET,microsoft_non_ip,â“‚ï¸  å¾®è½¯æœåŠ¡
  # ä¸‹è½½æ›´æ–°
  - RULE-SET,download_domainset,ğŸ¯  èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,download_non_ip,ğŸ¯  èŠ‚ç‚¹é€‰æ‹©
  # é€šç”¨è§„åˆ™
  - GEOSITE,CN,DIRECT
  - GEOSITE,geolocation-!cn,ğŸ¯  èŠ‚ç‚¹é€‰æ‹©
  ## IP ç±»è§„åˆ™
  # å±€åŸŸç½‘
  - GEOIP,PRIVATE,DIRECT,no-resolve
  # è§†é¢‘è§„åˆ™
  - RULE-SET,stream_ip,ğŸ“º  è§†é¢‘è§„åˆ™,no-resolve
  # ç”µæŠ¥
  - RULE-SET,telegram_ip,âœˆï¸  ç”µæŠ¥ä¿¡æ¯,no-resolve
  # é€šç”¨è§„åˆ™
  - GEOIP,CN,DIRECT,no-resolve
  # å…œåº•
  - MATCH,ğŸ¯  èŠ‚ç‚¹é€‰æ‹©
